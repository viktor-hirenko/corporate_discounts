# Инструкция по настройке Google OAuth

## ⚠️ ВАЖНО: Если нет организации в Google Cloud

Если у вас **личный Google аккаунт** и Google Cloud требует организацию для создания проекта, у вас есть несколько вариантов:

### Вариант 1: Использовать только Email авторизацию (РАБОТАЕТ СЕЙЧАС)

Приложение **уже настроено** так, что кнопка Google отображается **только если** есть `VITE_GOOGLE_CLIENT_ID` в `.env` файле.

**Без Google Client ID:**

- Кнопка Google **скрыта**
- Работает только Email авторизация
- Можно продолжать разработку

**С Google Client ID:**

- Кнопка Google **отображается**
- Работают оба способа авторизации

### Вариант 2: Попросить коллегу/администратора создать проект

Если у кого-то из команды есть доступ к Google Cloud с организацией:

1. Попросите создать проект
2. Попросите создать OAuth Client ID
3. Получите Client ID и добавьте в `.env`

### Вариант 3: Использовать корпоративный Google Workspace аккаунт

Если у вашей компании есть Google Workspace:

1. Войдите в Google Cloud Console через корпоративный аккаунт
2. Создайте проект там
3. Создайте OAuth Client ID

### Вариант 4: Временно использовать тестовый Client ID

Для разработки UI можно использовать любой валидный Client ID (даже от другого проекта), но он не будет работать для реальной авторизации.

---

## Если у вас ЕСТЬ доступ к Google Cloud:

### Способ 1: Через Cloud Resource Manager (РЕКОМЕНДУЕТСЯ)

1. Откройте: https://console.cloud.google.com/cloud-resource-manager
2. Нажмите кнопку **"CREATE PROJECT"** (синяя кнопка справа вверху)
3. Заполните:
   - **Project name**: `corporate-discounts` (или любое другое название)
   - **Location**: **ОСТАВЬТЕ ПУСТЫМ** или выберите "No organization" если доступно
4. Нажмите **"CREATE"**
5. Дождитесь создания проекта (1-2 минуты)

### Способ 2: Использовать существующий проект

1. Вверху страницы Google Cloud Console нажмите на **выпадающий список проектов** (рядом с "Google Cloud")
2. Если там есть проекты - выберите любой
3. Если проектов нет - используйте Способ 1

## После создания проекта:

### Шаг 1: Выберите проект

- Вверху страницы убедитесь, что выбран ваш проект

### Шаг 2: Включите Google Identity Services API

1. В меню слева: **"APIs & Services"** → **"Library"**
2. В поиске введите: `Google Identity Services API`
3. Нажмите на результат
4. Нажмите кнопку **"ENABLE"**

### Шаг 3: Настройте OAuth Consent Screen

1. В меню слева: **"APIs & Services"** → **"OAuth consent screen"**
2. Выберите **"External"** (для тестирования)
3. Нажмите **"CREATE"**
4. Заполните обязательные поля:
   - **App name**: `Corporate Discounts` (или любое название)
   - **User support email**: ваш email
   - **Developer contact information**: ваш email
5. Нажмите **"SAVE AND CONTINUE"**
6. На шаге **"Scopes"** - нажмите **"SAVE AND CONTINUE"** (ничего не меняйте)
7. На шаге **"Test users"** - нажмите **"SAVE AND CONTINUE"** (можно добавить свой email позже)

### Шаг 4: Создайте OAuth Client ID

1. В меню слева: **"APIs & Services"** → **"Credentials"**
2. Нажмите **"CREATE CREDENTIALS"** → **"OAuth client ID"**
3. Выберите тип: **"Web application"**
4. Заполните:
   - **Name**: `Web Client` (или любое название)
   - **Authorized JavaScript origins**:
     - Добавьте: `http://localhost:5173`
     - Если используете другой порт, добавьте его тоже (например, `http://localhost:3000`)
   - **Authorized redirect URIs**: оставьте пустым (для Google Sign-In не требуется)
5. Нажмите **"CREATE"**
6. **СКОПИРУЙТЕ** "Client ID" (формат: `xxxxx.apps.googleusercontent.com`)

### Шаг 5: Добавьте Client ID в проект

1. В корне проекта `corporate_discounts` создайте файл `.env`
2. Добавьте строку:
   ```
   VITE_GOOGLE_CLIENT_ID=ваш-скопированный-client-id-здесь
   ```
   Например:
   ```
   VITE_GOOGLE_CLIENT_ID=123456789-abcdefghijklmnop.apps.googleusercontent.com
   ```
3. **Перезапустите** dev сервер (`npm run dev`)

## Проверка

После перезапуска сервера кнопка Google должна появиться на странице `/login`

## Если все еще не работает:

1. Проверьте, что файл `.env` находится в корне проекта (рядом с `package.json`)
2. Проверьте, что в `.env` нет пробелов вокруг `=`
3. Убедитесь, что перезапустили сервер после создания `.env`
4. Проверьте консоль браузера на наличие ошибок

